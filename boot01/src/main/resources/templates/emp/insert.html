<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org/" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{common/layouts/default_layout}" layout:fragment="Content">

<head>
	<meta charset="UTF-8">
	<title>WishğŸ•ğŸ™„</title>
</head>

<body>
	<h3>ì‚¬ì› ì •ë³´ ë“±ë¡</h3>
	<form name="insertForm" th:action="@{/empInsert}" method="post">
		<div class="mb-2">
			<div>
				<label class="form-label">ì´ë¦„</label>
				<input class="form-control" type="text" name="empname">
			</div>
			<div>
				<label class="form-label">ìƒì‚¬ë²ˆí˜¸</label>
				<input class="form-control" type="number" name="mgr">
			</div>
			<div>
				<label class="form-label">ê¸‰ì—¬</label>
				<input class="form-control" type="number" name="sal">
			</div>
			<div>
				<label class="form-label">ë¶€ì„œë²ˆí˜¸</label>
				<input class="form-control" type="number" name="deptid">
			</div>
			<div>
				<label class="form-label">ì…ì‚¬ì¼ì</label>
				<input class="form-control" type="date" name="hiredate">
			</div>
			<div>
				<button type="submit">ğŸ‘€ë“±ë¡ğŸ‘€</button>
			</div>
		</div>
	</form>

	<script type="text/javascript">
		//document.querySelector('form[name="insertForm"]');
		insertForm.addEventListener('submit', function (event) {
			//submitì¼ì‹œì •ì§€í›„ ì•„ë˜ë‚´ìš© ë‹¤ ìˆ˜í–‰í›„ ë§ˆì§€ë§‰ìª½ì— submitì‹œí‚¤ê¸°
			event.preventDefault();

			let ename = document.querySelector('input[name="empname"]');
			if (ename.value == '') {
				alert('ì´ë¦„ì€ í•„ìˆ˜ ê°’ì…ë‹ˆë‹¤')
				ename.focus();
				return;
			}

			let mgr = document.querySelector('input[name="mgr"]');
			if (mgr.value == '') {
				alert('ë§¤ë‹ˆì € ë²ˆí˜¸ëŠ” í•„ìˆ˜ ê°’ì…ë‹ˆë‹¤')
				mgr.focus();
				return;
			}

			let sal = document.querySelector('input[name="sal"]');
			if (sal.value == '') {
				alert('ê¸‰ì—¬ëŠ” í•„ìˆ˜ ê°’ì…ë‹ˆë‹¤')
				sal.focus();
				return;
			} else if (sal.value < 1000 || sal.value > 99999) {
				sal.value = '';
				alert('ê¸‰ì—¬ë²”ìœ„ëŠ” 1000ë¶€í„° 99999ê¹Œì§€ ì…ë‹ˆë‹¤')
				sal.focus();
				return;
			}


			insertForm.submit();

		});
	</script>

</body>

</html>